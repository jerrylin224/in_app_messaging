c
cc
c
current_user.mailbox
current_admin_user.mailbox
@mailbox
c
current_admin_user.mailbox
c
current_admin_user
current_user
c
@conversation.subject
@conversation
c
@conversation
c
@conversation.receipts_for(current_user)
@conversation.receipts_for(current_user).count
@conversation.receipt_for(current_user).count
@conversation.receipts_for(current_user).count
@conversation.receipts_for(current_user)
c
@conversation.receipts.first
@conversation.receipts.last.first
@conversation.receipts.last
@conversation.receipts.count
@conversation.receipts
@conversation.receipt
@conversation.receipts
@conversation
c
params[:message][:subject]
c
params[:message][:subject]
params[:message]
params[:messages]
params
c
n
m
n
conversation
n
c
params[:message][:subject]
params[:message][:body]
conversation
n
recipients
n
c
conversation
n
params[:message][:subject]
params[:message][:body]
n
 User.where(id: @conversation.receipts.last.receiver_id)
c
n
params[:message][:body]
params[:message][:subject]
params[:message][:subject]).conversation
n
User.where(id: params['recipients'])
c
@conversation.receipts.pluck(:receiver_id)
@conversation.receipts.pluck(:id)
@conversation.receipts.count
@conversation.receipts
@conversation.recepits
@conversation.recepients
@conversation.receipients
@conversation
@conversations
recepient
c
@conversation
@conversation.receipts
@conversation.receipts.where(is_read: true)
@conversation.receipts
@conversation.receipts.pluck(:receiver_id)
@conversation.receipts
@conversation.user
@conversation.mailbox
@conversation
receipts
receipts.count
receipts.first
receipts = conversation.receipts_for current_user
receipts = conversation.recipts_for current_user
conversation = current_user.mailbox.inbox.first
current_user.mailbox.inbox.first
current_user.mailbox.conversations.last.receipts.map { |r| r.receiver.name }
current_user = User.last
User.last
current_user.name
current_user
current_user.messages.where(is_read: false)
current_user.messages.where(is_read: false).inbox
current_user.messages.where(is_read: false)
current_user.messages.where(is_read: true)
current_user.where(is_read: true)
current_user.messages.last
current_user.messages.count
current_user.messages
current_user.message
current_user
User
current_user.mailbox.conversations.last.receipts.map { |r| r.receiver.name }
current_user.mailbox.conversations.last.receipts.map { |r| r.receiver }
current_user.mailbox.conversations.last.receipts.first
current_user.mailbox.conversations.last.receipts.first.name
current_user.mailbox.conversations.last.receipts.first
current_user.mailbox.conversations.last.receipts
current_user.mailbox.conversations.last.receipts.map { |user| user.name }
current_user.name
current_user.mailbox.conversations.last.receipts.wherec
current_user.mailbox.conversations.last.receipts
current_user.mailbox.conversations.last.receipts.count
current_user.mailbox.conversations.last.receipts
current_user.mailbox.conversations.last.receiver
current_user.mailbox.conversations.last
current_user.mailbox.conversations
current_user.mailbox.conversation.last
current_user.mailbox
Conversation
Conversation.last
current_user.mailbox
current_user
Recepient
recepient
receipient
c
@mailbox.inbox - @mailbox.inbox({read: false}) 
@mailbox.inbox({read: false}) 
@mailbox.inbox
@mailbox
c
@mailbox.inbox({read: false}).count
@mailbox.inbox({read: false})
@mailbox.inbox.count
@mailbox.inbox
@box.inbox
@box
c
@box
@mailbox
c
@mailbox.unread
@mailbox.inbox
@mailbox
@mailbox.inbox
@mailbox.unread
@mailbox
@box
c
@box
c
@box
c
@box
@bpx
c
params
c
n
recipients
receipients
n
params['recipients']
recipients
c
@box
c
@box
box
cbox
c
@box
c
@box
c
@box
c
current_user.name == message.scender.name
current_user.name == message.sender.name
current_user.name == message.sender
current_user
